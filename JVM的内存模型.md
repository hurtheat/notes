##### JVM的内存模型

###### 一、虚拟机栈

    虚拟机栈是Java方法调用的主要实现方式，Java方法的调用需要通过虚拟激栈进行传递。每个方法的执行都需要进行一次入栈的操作，方法执行完毕则会进行出栈的操作。**并且虚拟机栈是线程独享的，和线程的生命周期一致，每一个线程都有一个虚拟机栈。**

    **虚拟机栈由一个个的栈帧组成，而一个栈帧中又包含局部变量表、操作数栈、动态链接，方法返回地址组成。**

    

- 局部变量表：局部变量表存储着编译期可知的各种基本数据（int,doule...）、对象引用类型。也就是各种局部用到的变量。

- 操作数栈：其中存储着方法执行过程中产生的一些中间数和临时变量。

- 动态链接：动态链接主要在方法调用另一个方法时使用。在.java文件被编译成.class文件时，所有的变量和方法都作为**符号引用**存储在Class文件的常量池中，当一个方法需要调用另一个方法时，需要将常量池中的符号引用指向方法区（1.8后叫元空间）中**运行时常量池**存储的方法的直接引用，这样才能找到该方法。**动态链接其实就是将符号引用指向直接引用的过程**

- 方法返回地址：

栈空间不是无限的，一般不会满（因为有入栈和出栈的动态过程），但是死循环中无限调用方法，或者递归的错误可能导致栈的空间过程，当栈的**深度**超过最大值，会报**StackOverFlowError**错误。

栈的深度有限制，同样栈的空间也有限制，虽说可以动态的扩展，想操作系统申请空间，但是当我们的机器内存空间受到限制或者内存空间不足的时候，就会报**OOM-OutOfMemoryError**异常。

###### 二、 本地方法栈

    本方法栈同虚拟栈的作用一致，不同的是本地方法栈为Native方法服务，它同样也由一个个栈帧组成，也同样可以产生**StackOverFlowError**错误和**OutOfMemoryError**异常。

###### 三、程序计数器

###### 四、方法区

###### 五、堆
